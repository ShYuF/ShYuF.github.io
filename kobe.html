<!DOCTYPE html>

<html>
    <head>
        <title>Kobe</title>
        <link rel="stylesheet" type="text/css" href="./css/kobe.css">
        <base id = "base" href = ".">
    </head>

    <body>
        <!-- 页面元素 -->
        <audio id = "music" src="./res/kobe/kobe.mp3" loop autoplay></audio>
        <div class="ancester" id="kobe">
            <div class="body">
                <img src="./res/kobe/p.png" alt="1" style="width:300%">
            </div>
            <div class="head">
                <img src="./res/kobe/h.png" alt="1" style="width:300%">
            </div>
        </div>
        
        <div class="btn" id="buttons">
            <button type="button" onclick="changeMusic()">换一首</button>
        </div>

        <!-- js部分 -->
        <script>
            function changeMusic() {
                var base = document.getElementById("base").href;
                var audio = document.getElementById("music");
                
                if (audio.src == base + "res/kobe/kobe.mp3") {
                    audio.src = base + "res/kobe/see u again.ogg";
                }
                else {
                    audio.src = base + "res/kobe/kobe.mp3";
                }
                audio.play();
            }
        </script>

        <script>
            function create() {
                var new_btn = document.createElement("button");
                new_btn.innerHTML = "暂停";
                new_btn.type = "button";
                new_btn.onclick = function() {
                    var audio = document.getElementById("music");
                    if (audio.paused) {
                        audio.play();
                        new_btn.innerHTML = "暂停";
                    }
                    else {
                        audio.pause();
                        new_btn.innerHTML = "播放";
                    }
                }
                var button_class = document.getElementById("buttons");
                button_class.appendChild(new_btn);
            }
        </script>

        <script>
            create();
        </script>
    </body>
</html>